//yamok : 0.0.2 : 2013-06-11
$(document).foundation(),$(function(){$(document).on("submit","form",function(a){if(a.preventDefault(),$("#testName").val()){var b=[];$(this).find(":checked").each(function(){console.log(this.getAttribute("id")),b.push(this.getAttribute("id"))}),localStorage[$("#testName").val()]=b}$("#submitJson").val("Loading...").attr("disable","disable"),$.post($(this).attr("action"),$(this).serialize(),function(a){document.write(a)})})}),$(function(){var a,b=document.createElement("a");for(var c in localStorage)a=b.cloneNode(),a.textContent=c,a.setAttribute("href","#"),a.setAttribute("class","label radius secondary"),a.setAttribute("data-storage",c),$("#saved-storage").append(a);$(document).on("click",$("#saved-storage a"),function(a){a.preventDefault(),$("input").find(":checked").removeAttr("checked"),$(".custom.checkbox.checked").removeClass("checked");var b=localStorage[$(this).data("storage")].split(",");$("#testName").val($(this).text());for(var c=0;c<b.length;c++)$("#"+b[c]).attr("checked","checked"),$("#"+b[c]).next(".custom").addClass("checked")})}),$(function(){var a=document.createElement("div"),b=document.createElement("h3"),c=document.createElement("ul"),d=document.createElement("li"),e=document.createElement("form");e.setAttribute("class","custom"),e.setAttribute("action","/generate"),e.setAttribute("type","post");var f=document.createElement("label"),g=document.createElement("input"),h="";_.each(osArr,function(i,j){0===j%3&&(h=a.cloneNode(),h.setAttribute("class","row"));var k=a.cloneNode();k.setAttribute("class","large-4 columns");var l=b.cloneNode();l.textContent=i,k.appendChild(l);var m=c.cloneNode();m.setAttribute("class","no-bullet"),_.each(browserObj[i]._wrapped,function(a){var b=d.cloneNode(),c=g.cloneNode(),e=f.cloneNode(),h=(i+a.api_name+a.short_version).toLowerCase().replace(" ","").replace(".","");e.setAttribute("for",h),e.textContent=a.long_name+" "+a.short_version,c.setAttribute("id",h),c.setAttribute("value",'{"os": "'+i+'", "api_name": "'+a.api_name+'", "long_version": "'+a.long_version+'", "short_version": "'+a.short_version+'"}'),c.setAttribute("type","checkbox"),c.setAttribute("name","browser"),c.setAttribute("style","display:none;"),e.innerHTML=c.outerHTML+'<span class="custom checkbox "></span>'+e.innerHTML,b.appendChild(e),b.setAttribute("data-api-name",a.api_name),b.setAttribute("data-long-version",a.long_version),m.appendChild(b)}),k.appendChild(m),h.appendChild(k),e.appendChild(h)}),h=a.cloneNode(),h.setAttribute("class","row");var i=a.cloneNode(),j=g.cloneNode(),k=f.cloneNode();i.setAttribute("class","large-4 large-offset-4 columns"),j.setAttribute("type","text"),j.setAttribute("name","testName"),j.setAttribute("id","testName"),k.setAttribute("for","testName"),k.textContent="Save Test as: ",i.appendChild(k),i.appendChild(j),h.appendChild(i);var l=a.cloneNode();l.setAttribute("class","large-4 columns");var m=g.cloneNode();m.setAttribute("type","submit"),m.setAttribute("class","button"),m.setAttribute("id","submitJson"),l.appendChild(m),h.appendChild(l),e.appendChild(h),document.getElementById("browser-list").appendChild(e)});